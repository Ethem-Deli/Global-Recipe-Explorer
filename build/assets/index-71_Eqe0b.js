(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function a(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=a(e);fetch(e.href,r)}})();fetch("https://restcountries.com/v3.1/all").then(n=>n.json()).then(n=>{const t=document.getElementById("flagGrid");if(!t)return;n.sort((i,e)=>i.name.common.localeCompare(e.name.common)).forEach(i=>{const e=document.createElement("a");e.href=`country.html?name=${i.name.common}`,e.innerHTML=`<img src="${i.flags.png}" alt="${i.name.common}" title="${i.name.common}" class="flag" />`,t.appendChild(e)})}).catch(n=>console.error("Error loading countries:",n));const p=document.getElementById("dietFilter"),E=document.getElementById("weeklyBtn"),g=document.getElementById("countryFilter");p&&p.addEventListener("change",()=>{w(p.value)});E&&E.addEventListener("click",()=>w("",7));g&&g.addEventListener("change",()=>{const n=g.value;console.log("[Country Selected]:",n),n&&(C(n),I(n))});function w(n="",t=1){const i=`https://api.spoonacular.com/recipes/random?number=${t}&tags=${n}&apiKey=f39143f6af2943898e57538f2d6d3de2&addRecipeNutrition=true`;fetch(i).then(e=>e.json()).then(e=>L(e.recipes)).catch(e=>console.error("Error fetching recipes:",e))}function L(n){const t=document.getElementById("recipes");t&&(t.innerHTML="",n.forEach(a=>{var c,m,d,u,h,y,b,v;const i=((m=(c=a.nutrition)==null?void 0:c.nutrients.find(l=>l.name==="Calories"))==null?void 0:m.amount)||"N/A",e=((u=(d=a.nutrition)==null?void 0:d.nutrients.find(l=>l.name==="Protein"))==null?void 0:u.amount)||"N/A",r=((y=(h=a.nutrition)==null?void 0:h.nutrients.find(l=>l.name==="Fat"))==null?void 0:y.amount)||"N/A",s=((v=(b=a.nutrition)==null?void 0:b.nutrients.find(l=>l.name==="Carbohydrates"))==null?void 0:v.amount)||"N/A",o=document.createElement("div");o.className="recipe-card",o.innerHTML=`
      <span class="favorite-btn" onclick="saveFavorite(${a.id})">❤️</span>
      <h3>${a.title}</h3>
      <img src="${a.image}" alt="${a.title}" width="100%">
      <p><strong>Calories:</strong> ${i}</p>
      <p><strong>Protein:</strong> ${e}g</p>
      <p><strong>Fat:</strong> ${r}g</p>
      <p><strong>Carbs:</strong> ${s}g</p>
    `,t.appendChild(o)}))}window.saveFavorite=n=>{const t=JSON.parse(localStorage.getItem("favorites"))||[];t.includes(n)||(t.push(n),localStorage.setItem("favorites",JSON.stringify(t)),alert("Recipe saved to favorites!"))};var $;($=document.querySelector(".hamburger"))==null||$.addEventListener("click",()=>{var n;(n=document.getElementById("menu"))==null||n.classList.toggle("show")});function C(n){console.log("[Fetch Country Info]:",n),fetch(`https://restcountries.com/v3.1/name/${n}`).then(t=>t.json()).then(t=>{const a=t[0],i=document.getElementById("country-details");i&&(i.innerHTML=`
        <h4>${a.name.common}</h4>
        <img src="${a.flags.png}" alt="${a.name.common}" width="200">
        <p><strong>Capital:</strong> ${a.capital}</p>
        <p><strong>Region:</strong> ${a.region}</p>
        <p><strong>Population:</strong> ${a.population.toLocaleString()}</p>
      `)}).catch(t=>console.error("Error loading country info:",t))}function I(n){const a={afghanistan:"middle eastern",algeria:"african",argentina:"latin american",armenia:"middle eastern",australia:"british",austria:"european",bangladesh:"indian",belgium:"european",brazil:"latin american",canada:"american",chile:"latin american",china:"chinese",colombia:"latin american",croatia:"european",cuba:"caribbean",czechia:"european",denmark:"nordic",dominicanrepublic:"caribbean",egypt:"middle eastern",england:"british",finland:"nordic",france:"french",germany:"german",greece:"greek",guatemala:"latin american",haiti:"caribbean",honduras:"latin american",hungary:"european",india:"indian",indonesia:"asian",iran:"middle eastern",iraq:"middle eastern",ireland:"british",israel:"middle eastern",italy:"italian",jamaica:"caribbean",japan:"japanese",jordan:"middle eastern",kenya:"african",korea:"korean",lebanon:"middle eastern",malaysia:"asian",mexico:"mexican",morocco:"african",nepal:"indian",netherlands:"european",newzealand:"british",nicaragua:"latin american",nigeria:"african",norway:"nordic",pakistan:"indian",peru:"latin american",philippines:"asian",poland:"european",portugal:"mediterranean",puertorico:"caribbean",qatar:"middle eastern",romania:"european",russianfederation:"eastern european",saudiarabia:"middle eastern",senegal:"african",serbia:"european",singapore:"asian",slovakia:"european",slovenia:"european",southafrica:"african",southkorea:"korean",spain:"spanish",srilanka:"indian",sweden:"nordic",switzerland:"european",syria:"middle eastern",thailand:"thai",tunisia:"african",turkey:"mediterranean",ukraine:"eastern european",unitedarabemirates:"middle eastern",unitedkingdom:"british",unitedstates:"american",uruguay:"latin american",venezuela:"latin american",vietnam:"vietnamese",yemen:"middle eastern",zimbabwe:"african"}[n.toLowerCase().replace(/\s+/g,"")]||"world";console.log("[Fetch Recipes for Country]: cuisine =",a);const i="f39143f6af2943898e57538f2d6d3de2",e=document.getElementById("country-recipes");if(!e){console.error('[ERROR] Missing container with id "country-recipes"');return}fetch(`https://api.spoonacular.com/recipes/complexSearch?cuisine=${a}&number=6&apiKey=${i}`).then(r=>r.json()).then(r=>{var s;if(console.log("[Country Recipes Data]:",r),e.innerHTML="",!((s=r.results)!=null&&s.length)){e.innerHTML="<p>No recipes found for this country.</p>";return}r.results.forEach(o=>{const c=document.createElement("div");c.className="recipe-card",c.innerHTML=`
          <h3>${o.title}</h3>
          <img src="${o.image}" alt="${o.title}" width="100%">
        `,e.appendChild(c)})}).catch(r=>console.error("Error loading country recipes:",r))}f();async function f(n="recipe-index"){const t="https://api.allorigins.win/get?url=",a=`https://www.blogilates.com/category/${n}/`,e=await(await fetch(t+encodeURIComponent(a))).json(),o=new DOMParser().parseFromString(e.contents,"text/html").querySelectorAll("article"),c=document.getElementById("blogilates-recipes");if(c.innerHTML="",o.length===0){c.innerHTML="<p>No recipes found in this category.</p>";return}o.forEach(m=>{const d=m.querySelector("h2.entry-title a");if(d){const u=document.createElement("div");u.className="recipe-card",u.innerHTML=`<a href="${d.href}" target="_blank">${d.textContent}</a>`,c.appendChild(u)}})}f();document.getElementById("categorySelect").addEventListener("change",n=>{f(n.target.value)});
