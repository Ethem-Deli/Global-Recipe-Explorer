(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=r(e);fetch(e.href,i)}})();fetch("https://restcountries.com/v3.1/all").then(t=>t.json()).then(t=>{const n=document.getElementById("flagGrid");if(!n)return;t.sort((o,e)=>o.name.common.localeCompare(e.name.common)).forEach(o=>{const e=document.createElement("a");e.href=`country.html?name=${o.name.common}`,e.innerHTML=`<img src="${o.flags.png}" alt="${o.name.common}" title="${o.name.common}" class="flag" />`,n.appendChild(e)})}).catch(t=>console.error("Error loading countries:",t));const a=document.getElementById("dietFilter"),I=document.getElementById("weeklyBtn"),l=document.getElementById("countryDropdown");a&&a.addEventListener("change",()=>{const t=a.value;w(t)});I&&I.addEventListener("click",()=>w("",7));const d=document.getElementById("countryFilter");d&&d.addEventListener("change",()=>{const t=d.value;t&&(B(t),b(t))});l&&l.addEventListener("change",()=>{const t=l.value;t&&(B(t),b(t))});function w(t="",n=1){const o=`https://api.spoonacular.com/recipes/random?number=${n}&tags=${t}&apiKey=f39143f6af2943898e57538f2d6d3de2&addRecipeNutrition=true`;fetch(o).then(e=>e.json()).then(e=>O(e.recipes)).catch(e=>console.error("Error fetching recipes:",e))}function O(t){const n=document.getElementById("recipes");n&&(n.innerHTML="",t.forEach(r=>{var u,m,f,p,g,h,y,$,E,v,L,C;const o=document.createElement("div");o.className="recipe-card";const e=((f=(m=(u=r.nutrition)==null?void 0:u.nutrients)==null?void 0:m.find(s=>s.name==="Calories"))==null?void 0:f.amount)||"N/A",i=((h=(g=(p=r.nutrition)==null?void 0:p.nutrients)==null?void 0:g.find(s=>s.name==="Protein"))==null?void 0:h.amount)||"N/A",c=((E=($=(y=r.nutrition)==null?void 0:y.nutrients)==null?void 0:$.find(s=>s.name==="Fat"))==null?void 0:E.amount)||"N/A",F=((C=(L=(v=r.nutrition)==null?void 0:v.nutrients)==null?void 0:L.find(s=>s.name==="Carbohydrates"))==null?void 0:C.amount)||"N/A";o.innerHTML=`
      <span class="favorite-btn" onclick="saveFavorite(${r.id})">❤️</span>
      <h3>${r.title}</h3>
      <img src="${r.image}" alt="${r.title}" width="100%">
      <p><strong>Calories:</strong> ${e}</p>
      <p><strong>Protein:</strong> ${i}g</p>
      <p><strong>Fat:</strong> ${c}g</p>
      <p><strong>Carbs:</strong> ${F}g</p>
    `,n.appendChild(o)}))}window.saveFavorite=function(t){let n=JSON.parse(localStorage.getItem("favorites"))||[];n.includes(t)||(n.push(t),localStorage.setItem("favorites",JSON.stringify(n)),alert("Recipe saved to favorites!"))};var N;(N=document.querySelector(".hamburger"))==null||N.addEventListener("click",()=>{var t;(t=document.getElementById("menu"))==null||t.classList.toggle("show")});function B(t){fetch(`https://restcountries.com/v3.1/name/${t}`).then(n=>n.json()).then(n=>{const r=n[0],o=document.getElementById("country-details");o.innerHTML=`
        <h4>${r.name.common}</h4>
        <img src="${r.flags.png}" alt="${r.name.common}" width="200">
        <p><strong>Capital:</strong> ${r.capital}</p>
        <p><strong>Region:</strong> ${r.region}</p>
        <p><strong>Population:</strong> ${r.population.toLocaleString()}</p>
      `}).catch(n=>console.error("Error loading country info:",n))}function b(t){const r=`https://api.spoonacular.com/recipes/complexSearch?cuisine=${t}&number=6&apiKey=f39143f6af2943898e57538f2d6d3de2`;fetch(r).then(o=>o.json()).then(o=>{const e=document.getElementById("country-recipes");e.innerHTML="",e.style.display="grid",e.style.gridTemplateColumns="repeat(3, 1fr)",e.style.gap="1.5rem",o.results.forEach(i=>{const c=document.createElement("div");c.className="recipe-card",c.innerHTML=`
          <h3>${i.title}</h3>
          <img src="${i.image}" alt="${i.title}" width="100%">
        `,e.appendChild(c)})}).catch(o=>console.error("Error loading country recipes:",o))}
