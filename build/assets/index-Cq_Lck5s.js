(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();fetch("https://restcountries.com/v3.1/all").then(n=>n.json()).then(n=>{const a=document.getElementById("flagGrid");if(!a)return;n.sort((i,e)=>i.name.common.localeCompare(e.name.common)).forEach(i=>{const e=document.createElement("a");e.href=`country.html?name=${i.name.common}`,e.innerHTML=`<img src="${i.flags.png}" alt="${i.name.common}" title="${i.name.common}" class="flag" />`,a.appendChild(e)})}).catch(n=>console.error("Error loading countries:",n));const d=document.getElementById("dietFilter"),v=document.getElementById("weeklyBtn"),u=document.getElementById("countryFilter");d&&d.addEventListener("change",()=>{E(d.value)});v&&v.addEventListener("click",()=>E("",7));u&&u.addEventListener("change",()=>{const n=u.value;console.log("[Country Selected]:",n),n&&(C(n),w(n))});function E(n="",a=1){const i=`https://api.spoonacular.com/recipes/random?number=${a}&tags=${n}&apiKey=f39143f6af2943898e57538f2d6d3de2&addRecipeNutrition=true`;fetch(i).then(e=>e.json()).then(e=>L(e.recipes)).catch(e=>console.error("Error fetching recipes:",e))}function L(n){const a=document.getElementById("recipes");a&&(a.innerHTML="",n.forEach(t=>{var l,m,p,f,g,h,y,b;const i=((m=(l=t.nutrition)==null?void 0:l.nutrients.find(s=>s.name==="Calories"))==null?void 0:m.amount)||"N/A",e=((f=(p=t.nutrition)==null?void 0:p.nutrients.find(s=>s.name==="Protein"))==null?void 0:f.amount)||"N/A",r=((h=(g=t.nutrition)==null?void 0:g.nutrients.find(s=>s.name==="Fat"))==null?void 0:h.amount)||"N/A",o=((b=(y=t.nutrition)==null?void 0:y.nutrients.find(s=>s.name==="Carbohydrates"))==null?void 0:b.amount)||"N/A",c=document.createElement("div");c.className="recipe-card",c.innerHTML=`
      <span class="favorite-btn" onclick="saveFavorite(${t.id})">❤️</span>
      <h3>${t.title}</h3>
      <img src="${t.image}" alt="${t.title}" width="100%">
      <p><strong>Calories:</strong> ${i}</p>
      <p><strong>Protein:</strong> ${e}g</p>
      <p><strong>Fat:</strong> ${r}g</p>
      <p><strong>Carbs:</strong> ${o}g</p>
    `,a.appendChild(c)}))}window.saveFavorite=n=>{const a=JSON.parse(localStorage.getItem("favorites"))||[];a.includes(n)||(a.push(n),localStorage.setItem("favorites",JSON.stringify(a)),alert("Recipe saved to favorites!"))};var $;($=document.querySelector(".hamburger"))==null||$.addEventListener("click",()=>{var n;(n=document.getElementById("menu"))==null||n.classList.toggle("show")});function C(n){console.log("[Fetch Country Info]:",n),fetch(`https://restcountries.com/v3.1/name/${n}`).then(a=>a.json()).then(a=>{const t=a[0],i=document.getElementById("country-details");i&&(i.innerHTML=`
        <h4>${t.name.common}</h4>
        <img src="${t.flags.png}" alt="${t.name.common}" width="200">
        <p><strong>Capital:</strong> ${t.capital}</p>
        <p><strong>Region:</strong> ${t.region}</p>
        <p><strong>Population:</strong> ${t.population.toLocaleString()}</p>
      `)}).catch(a=>console.error("Error loading country info:",a))}function w(n){const t={afghanistan:"middle eastern",algeria:"african",argentina:"latin american",armenia:"middle eastern",australia:"british",austria:"european",bangladesh:"indian",belgium:"european",brazil:"latin american",canada:"american",chile:"latin american",china:"chinese",colombia:"latin american",croatia:"european",cuba:"caribbean",czechia:"european",denmark:"nordic",dominicanrepublic:"caribbean",egypt:"middle eastern",england:"british",finland:"nordic",france:"french",germany:"german",greece:"greek",guatemala:"latin american",haiti:"caribbean",honduras:"latin american",hungary:"european",india:"indian",indonesia:"asian",iran:"middle eastern",iraq:"middle eastern",ireland:"british",israel:"middle eastern",italy:"italian",jamaica:"caribbean",japan:"japanese",jordan:"middle eastern",kenya:"african",korea:"korean",lebanon:"middle eastern",malaysia:"asian",mexico:"mexican",morocco:"african",nepal:"indian",netherlands:"european",newzealand:"british",nicaragua:"latin american",nigeria:"african",norway:"nordic",pakistan:"indian",peru:"latin american",philippines:"asian",poland:"european",portugal:"mediterranean",puertorico:"caribbean",qatar:"middle eastern",romania:"european",russianfederation:"eastern european",saudiarabia:"middle eastern",senegal:"african",serbia:"european",singapore:"asian",slovakia:"european",slovenia:"european",southafrica:"african",southkorea:"korean",spain:"spanish",srilanka:"indian",sweden:"nordic",switzerland:"european",syria:"middle eastern",thailand:"thai",tunisia:"african",turkey:"mediterranean",ukraine:"eastern european",unitedarabemirates:"middle eastern",unitedkingdom:"british",unitedstates:"american",uruguay:"latin american",venezuela:"latin american",vietnam:"vietnamese",yemen:"middle eastern",zimbabwe:"african"}[n.toLowerCase().replace(/\s+/g,"")]||"world";console.log("[Fetch Recipes for Country]: cuisine =",t);const i="f39143f6af2943898e57538f2d6d3de2",e=document.getElementById("country-recipes");if(!e){console.error('[ERROR] Missing container with id "country-recipes"');return}fetch(`https://api.spoonacular.com/recipes/complexSearch?cuisine=${t}&number=6&apiKey=${i}`).then(r=>r.json()).then(r=>{var o;if(console.log("[Country Recipes Data]:",r),e.innerHTML="",!((o=r.results)!=null&&o.length)){e.innerHTML="<p>No recipes found for this country.</p>";return}r.results.forEach(c=>{const l=document.createElement("div");l.className="recipe-card",l.innerHTML=`
          <h3>${c.title}</h3>
          <img src="${c.image}" alt="${c.title}" width="100%">
        `,e.appendChild(l)})}).catch(r=>console.error("Error loading country recipes:",r))}
