(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}})();fetch("https://restcountries.com/v3.1/all").then(t=>t.json()).then(t=>{const r=document.getElementById("flagGrid");if(!r)return;t.sort((o,e)=>o.name.common.localeCompare(e.name.common)).forEach(o=>{const e=document.createElement("a");e.href=`country.html?name=${o.name.common}`,e.innerHTML=`<img src="${o.flags.png}" alt="${o.name.common}" title="${o.name.common}" class="flag" />`,r.appendChild(e)})}).catch(t=>console.error("Error loading countries:",t));const l=document.getElementById("dietFilter"),E=document.getElementById("weeklyBtn"),u=document.getElementById("countryFilter");l&&l.addEventListener("change",()=>{C(l.value)});E&&E.addEventListener("click",()=>C("",7));u&&u.addEventListener("change",()=>{const t=u.value;console.log("[Country Selected]:",t),t&&(I(t),N(t))});function C(t="",r=1){const o=`https://api.spoonacular.com/recipes/random?number=${r}&tags=${t}&apiKey=f39143f6af2943898e57538f2d6d3de2&addRecipeNutrition=true`;fetch(o).then(e=>e.json()).then(e=>L(e.recipes)).catch(e=>console.error("Error fetching recipes:",e))}function L(t){const r=document.getElementById("recipes");r&&(r.innerHTML="",t.forEach(n=>{var d,m,p,f,g,h,y,$;const o=((m=(d=n.nutrition)==null?void 0:d.nutrients.find(c=>c.name==="Calories"))==null?void 0:m.amount)||"N/A",e=((f=(p=n.nutrition)==null?void 0:p.nutrients.find(c=>c.name==="Protein"))==null?void 0:f.amount)||"N/A",i=((h=(g=n.nutrition)==null?void 0:g.nutrients.find(c=>c.name==="Fat"))==null?void 0:h.amount)||"N/A",s=(($=(y=n.nutrition)==null?void 0:y.nutrients.find(c=>c.name==="Carbohydrates"))==null?void 0:$.amount)||"N/A",a=document.createElement("div");a.className="recipe-card",a.innerHTML=`
      <span class="favorite-btn" onclick="saveFavorite(${n.id})">❤️</span>
      <h3>${n.title}</h3>
      <img src="${n.image}" alt="${n.title}" width="100%">
      <p><strong>Calories:</strong> ${o}</p>
      <p><strong>Protein:</strong> ${e}g</p>
      <p><strong>Fat:</strong> ${i}g</p>
      <p><strong>Carbs:</strong> ${s}g</p>
    `,r.appendChild(a)}))}window.saveFavorite=t=>{const r=JSON.parse(localStorage.getItem("favorites"))||[];r.includes(t)||(r.push(t),localStorage.setItem("favorites",JSON.stringify(r)),alert("Recipe saved to favorites!"))};var v;(v=document.querySelector(".hamburger"))==null||v.addEventListener("click",()=>{var t;(t=document.getElementById("menu"))==null||t.classList.toggle("show")});function I(t){console.log("[Fetch Country Info]:",t),fetch(`https://restcountries.com/v3.1/name/${t}`).then(r=>r.json()).then(r=>{const n=r[0],o=document.getElementById("country-details");o&&(o.innerHTML=`
        <h4>${n.name.common}</h4>
        <img src="${n.flags.png}" alt="${n.name.common}" width="200">
        <p><strong>Capital:</strong> ${n.capital}</p>
        <p><strong>Region:</strong> ${n.region}</p>
        <p><strong>Population:</strong> ${n.population.toLocaleString()}</p>
      `)}).catch(r=>console.error("Error loading country info:",r))}function N(t){const r="f39143f6af2943898e57538f2d6d3de2",n=document.getElementById("country-recipes");if(!n){console.error('[ERROR] Missing container with id "country-recipes"');return}console.log("[Fetch Recipes for Country]:",t),fetch(`https://api.spoonacular.com/recipes/complexSearch?cuisine=${t}&number=6&apiKey=${r}`).then(o=>o.json()).then(o=>{if(console.log("[Country Recipes Data]:",o),n.innerHTML="",n.style.display="grid",n.style.gridTemplateColumns="repeat(3, 1fr)",n.style.gap="1.5rem",!o.results||o.results.length===0){n.innerHTML="<p>No recipes found for this country.</p>";return}o.results.forEach(e=>{const i=document.createElement("div");i.className="recipe-card",i.innerHTML=`
          <h3>${e.title}</h3>
          <img src="${e.image}" alt="${e.title}" width="100%">
        `,n.appendChild(i)})}).catch(o=>console.error("Error loading country recipes:",o))}
