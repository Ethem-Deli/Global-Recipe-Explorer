(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?a.credentials="include":e.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(e){if(e.ep)return;e.ep=!0;const a=i(e);fetch(e.href,a)}})();fetch("https://restcountries.com/v3.1/all").then(n=>n.json()).then(n=>{const r=document.getElementById("flagGrid");if(!r)return;n.sort((t,e)=>t.name.common.localeCompare(e.name.common)).forEach(t=>{const e=document.createElement("a");e.href=`country.html?name=${t.name.common}`,e.innerHTML=`<img src="${t.flags.png}" alt="${t.name.common}" title="${t.name.common}" class="flag" />`,r.appendChild(e)})}).catch(n=>console.error("Error loading countries:",n));const d=document.getElementById("dietFilter"),$=document.getElementById("weeklyBtn"),u=document.getElementById("countryFilter");d&&d.addEventListener("change",()=>{w(d.value)});$&&$.addEventListener("click",()=>w("",7));u&&u.addEventListener("change",()=>{const n=u.value;console.log("[Country Selected]:",n),n&&(I(n),k(n))});function w(n="",r=1){const t=`https://api.spoonacular.com/recipes/random?number=${r}&tags=${n}&apiKey=f39143f6af2943898e57538f2d6d3de2&addRecipeNutrition=true`;fetch(t).then(e=>e.json()).then(e=>C(e.recipes)).catch(e=>console.error("Error fetching recipes:",e))}function C(n){const r=document.getElementById("recipes");r&&(r.innerHTML="",n.forEach(i=>{var l,m,p,f,h,g,y,b;const t=((m=(l=i.nutrition)==null?void 0:l.nutrients.find(s=>s.name==="Calories"))==null?void 0:m.amount)||"N/A",e=((f=(p=i.nutrition)==null?void 0:p.nutrients.find(s=>s.name==="Protein"))==null?void 0:f.amount)||"N/A",a=((g=(h=i.nutrition)==null?void 0:h.nutrients.find(s=>s.name==="Fat"))==null?void 0:g.amount)||"N/A",o=((b=(y=i.nutrition)==null?void 0:y.nutrients.find(s=>s.name==="Carbohydrates"))==null?void 0:b.amount)||"N/A",c=document.createElement("div");c.className="recipe-card",c.innerHTML=`
      <span class="favorite-btn" onclick="saveFavorite(${i.id})">❤️</span>
      <h3>${i.title}</h3>
      <img src="${i.image}" alt="${i.title}" width="100%">
      <p><strong>Calories:</strong> ${t}</p>
      <p><strong>Protein:</strong> ${e}g</p>
      <p><strong>Fat:</strong> ${a}g</p>
      <p><strong>Carbs:</strong> ${o}g</p>
    `,r.appendChild(c)}))}window.saveFavorite=n=>{const r=JSON.parse(localStorage.getItem("favorites"))||[];r.includes(n)||(r.push(n),localStorage.setItem("favorites",JSON.stringify(r)),alert("Recipe saved to favorites!"))};var L;(L=document.querySelector(".hamburger"))==null||L.addEventListener("click",()=>{var n;(n=document.getElementById("menu"))==null||n.classList.toggle("show")});function I(n){console.log("[Fetch Country Info]:",n),fetch(`https://restcountries.com/v3.1/name/${n}`).then(r=>r.json()).then(r=>{const i=r[0],t=document.getElementById("country-details");t&&(t.innerHTML=`
        <h4>${i.name.common}</h4>
        <img src="${i.flags.png}" alt="${i.name.common}" width="200">
        <p><strong>Capital:</strong> ${i.capital}</p>
        <p><strong>Region:</strong> ${i.region}</p>
        <p><strong>Population:</strong> ${i.population.toLocaleString()}</p>
      `)}).catch(r=>console.error("Error loading country info:",r))}function k(n){const i={afghanistan:"middle eastern",algeria:"african",argentina:"latin american",armenia:"middle eastern",australia:"british",austria:"european",bangladesh:"indian",belgium:"european",brazil:"latin american",canada:"american",chile:"latin american",china:"chinese",colombia:"latin american",croatia:"european",cuba:"caribbean",czechia:"european",denmark:"nordic",dominicanrepublic:"caribbean",egypt:"middle eastern",england:"british",finland:"nordic",france:"french",germany:"german",greece:"greek",guatemala:"latin american",haiti:"caribbean",honduras:"latin american",hungary:"european",india:"indian",indonesia:"asian",iran:"middle eastern",iraq:"middle eastern",ireland:"british",israel:"middle eastern",italy:"italian",jamaica:"caribbean",japan:"japanese",jordan:"middle eastern",kenya:"african",korea:"korean",lebanon:"middle eastern",malaysia:"asian",mexico:"mexican",morocco:"african",nepal:"indian",netherlands:"european",newzealand:"british",nicaragua:"latin american",nigeria:"african",norway:"nordic",pakistan:"indian",peru:"latin american",philippines:"asian",poland:"european",portugal:"mediterranean",puertorico:"caribbean",qatar:"middle eastern",romania:"european",russianfederation:"eastern european",saudiarabia:"middle eastern",senegal:"african",serbia:"european",singapore:"asian",slovakia:"european",slovenia:"european",southafrica:"african",southkorea:"korean",spain:"spanish",srilanka:"indian",sweden:"nordic",switzerland:"european",syria:"middle eastern",thailand:"thai",tunisia:"african",turkey:"mediterranean",ukraine:"eastern european",unitedarabemirates:"middle eastern",unitedkingdom:"british",unitedstates:"american",uruguay:"latin american",venezuela:"latin american",vietnam:"vietnamese",yemen:"middle eastern",zimbabwe:"african"}[n.toLowerCase().replace(/\s+/g,"")]||"world";console.log("[Fetch Recipes for Country]: cuisine =",i);const t="f39143f6af2943898e57538f2d6d3de2",e=document.getElementById("country-recipes");if(!e){console.error('[ERROR] Missing container with id "country-recipes"');return}fetch(`https://api.spoonacular.com/recipes/complexSearch?cuisine=${i}&number=6&apiKey=${t}`).then(a=>a.json()).then(a=>{var o;if(console.log("[Country Recipes Data]:",a),e.innerHTML="",!((o=a.results)!=null&&o.length)){e.innerHTML="<p>No recipes found for this country.</p>";return}a.results.forEach(c=>{const l=document.createElement("div");l.className="recipe-card",l.innerHTML=`
          <h3>${c.title}</h3>
          <img src="${c.image}" alt="${c.title}" width="100%">
        `,e.appendChild(l)})}).catch(a=>console.error("Error loading country recipes:",a))}const E=document.getElementById("searchInput"),v=document.getElementById("searchBtn");v&&E&&v.addEventListener("click",()=>{const n=E.value.trim();n&&B(n)});function B(n){const i=`https://api.spoonacular.com/recipes/complexSearch?query=${n}&number=6&apiKey=f39143f6af2943898e57538f2d6d3de2`;fetch(i).then(t=>t.json()).then(t=>{const e=document.getElementById("search-results");if(e.innerHTML="",!t.results||t.results.length===0){e.innerHTML="<p>No recipes found.</p>";return}t.results.forEach(a=>{const o=document.createElement("div");o.className="recipe-card",o.innerHTML=`
          <h3>${a.title}</h3>
          <img src="${a.image}" alt="${a.title}" width="100%">
        `,e.appendChild(o)})}).catch(t=>console.error("Error searching recipes:",t))}
